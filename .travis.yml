language: go

install:
  - go get -t ./...
  - git clone https://github.com/sstephenson/bats.git /tmp/bats
  - mkdir -p /tmp/local
  - bash /tmp/bats/install.sh /tmp/local
  - (cd tests/functional && go build printer.go)
  - export PATH=/tmp/local/bin:$PWD/tests/functional:$PATH

script:
  - go test -v ./...
  - bats --version
  - bats tests/functional

notifications:
  email: false
